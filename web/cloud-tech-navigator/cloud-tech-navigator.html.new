<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cloud Technology Navigator</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #020617;
      color: #e5e7eb;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }
    header {
      padding: 0.75rem 1.25rem;
      border-bottom: 1px solid #1f2937;
      background: linear-gradient(to right, #020617, #111827);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }
    header h1 {
      font-size: 1rem;
      margin: 0;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      color: #9ca3af;
    }
    header .subtitle {
      font-size: 0.75rem;
      color: #6b7280;
    }

    .main-menu-btn {
      border-radius: 999px;
      border: 1px solid #1f2937;
      padding: 0.3rem 0.9rem;
      font-size: 0.78rem;
      background: #020617;
      color: #9ca3af;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      transition:
        background 0.12s ease,
        border-color 0.12s ease,
        color 0.12s ease,
        transform 0.05s ease;
      white-space: nowrap;
    }

    .main-menu-btn:hover {
      background: #111827;
      border-color: #2563eb;
      color: #e5e7eb;
      transform: translateY(-1px);
    }

    .tabs-bar {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.4rem 0.75rem;
      border-bottom: 1px solid #1f2937;
      background: #020617;
    }
    .tab-btn {
      border-radius: 999px;
      border: 1px solid #1f2937;
      padding: 0.3rem 0.85rem;
      font-size: 0.8rem;
      background: #020617;
      color: #9ca3af;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      transition: background 0.12s ease, border-color 0.12s ease, color 0.12s ease, transform 0.05s ease;
    }
    .tab-btn:hover {
      border-color: #2563eb66;
      color: #e5e7eb;
      transform: translateY(-1px);
    }
    .tab-btn.active {
      background: #111827;
      border-color: #2563eb;
      color: #e5e7eb;
    }
    .tab-pill {
      border-radius: 999px;
      padding: 0.05rem 0.5rem;
      font-size: 0.7rem;
      border: 1px solid #1f2937;
      color: #6b7280;
      background: #020617;
    }

    #searchInput {
      background: #020617;
      border-radius: 9999px;
      border: 1px solid #1f2937;
      padding: 0.35rem 0.75rem;
      color: #e5e7eb;
      font-size: 0.8rem;
      width: 220px;
      margin-left: auto;
    }
    #searchInput::placeholder { color: #4b5563; }

    main { flex: 1; overflow: hidden; }
    .tab-panel { height: 100%; display: none; }
    .tab-panel.active { display: block; }

    .panel {
      background: #020617;
      border-radius: 0.5rem;
      border: 1px solid #1f2937;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      min-height: 0;
    }
    .panel-header {
      padding: 0.55rem 0.75rem;
      border-bottom: 1px solid #111827;
      font-size: 0.8rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: #6b7280;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.5rem;
    }
    .panel-body {
      padding: 0.5rem;
      overflow-y: auto;
      font-size: 0.85rem;
    }
    .pill {
      border-radius: 999px;
      border: 1px solid #1f2937;
      padding: 0.15rem 0.5rem;
      font-size: 0.72rem;
      color: #9ca3af;
      background: #020617;
    }

    /* Cloud / Tech tab layout */
    #cloudTabContent {
      height: 100%;
      display: grid;
      grid-template-columns: 260px 260px minmax(0, 1fr);
      gap: 0.75rem;
      padding: 0.75rem;
      overflow: hidden;
    }

    .category-list,
    .service-list {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .category-btn,
    .service-btn {
      border: none;
      cursor: pointer;
      text-align: left;
      padding: 0.4rem 0.5rem;
      border-radius: 0.35rem;
      font-size: 0.82rem;
      background: transparent;
      color: #e5e7eb;
      display: flex;
      flex-direction: column;
      gap: 0.15rem;
      transition: background 0.12s ease, border-color 0.12s ease, transform 0.05s ease;
      border: 1px solid transparent;
    }
    .category-btn:hover,
    .service-btn:hover {
      background: #020617;
      border-color: #1d4ed8;
      transform: translateY(-1px);
    }
    .category-btn.active {
      background: #111827;
      border-color: #2563eb;
    }
    .service-btn.active {
      background: #0b1120;
      border-color: #22c55e;
    }
    .category-label { font-weight: 500; }
    .category-count { font-size: 0.7rem; color: #6b7280; }
    .service-name { font-weight: 500; }
    .service-meta { font-size: 0.7rem; color: #6b7280; }

    .detail-title {
      font-size: 1rem;
      margin: 0 0 0.25rem 0;
      color: #e5e7eb;
    }
    .detail-badge-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.3rem;
      margin-bottom: 0.4rem;
    }
    .badge {
      border-radius: 999px;
      border: 1px solid #1f2937;
      padding: 0.15rem 0.55rem;
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      color: #9ca3af;
      background: #020617;
    }
    .badge-accent {
      border-color: #22c55e33;
      color: #bbf7d0;
      background: #022c22;
    }
    .badge-secondary {
      border-color: #1d4ed8;
      color: #bfdbfe;
      background: #020617;
    }
    .detail-section {
      margin-top: 0.5rem;
      padding-top: 0.4rem;
      border-top: 1px solid #111827;
    }
    .detail-section h3 {
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #6b7280;
      margin: 0 0 0.3rem 0;
    }
    .detail-section p {
      margin: 0 0 0.25rem 0;
      line-height: 1.4;
      color: #d1d5db;
    }
    .detail-section ul {
      margin: 0.1rem 0 0.35rem 1rem;
      padding: 0;
      color: #d1d5db;
    }
    .detail-section li { margin-bottom: 0.15rem; }
    .detail-link {
      color: #60a5fa;
      text-decoration: none;
      font-size: 0.8rem;
    }
    .detail-link:hover { text-decoration: underline; }

    .empty-state {
      font-size: 0.8rem;
      color: #6b7280;
      padding: 0.25rem 0.25rem 0.5rem 0.25rem;
    }

    .provider-selector-label {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #6b7280;
      margin-bottom: 0.15rem;
    }
    .provider-selector {
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
      margin-bottom: 0.4rem;
    }
    .provider-btn {
      border-radius: 999px;
      border: 1px solid #1f2937;
      background: #020617;
      color: #9ca3af;
      font-size: 0.72rem;
      padding: 0.18rem 0.6rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      transition: background 0.12s ease, border-color 0.12s ease, color 0.12s ease, transform 0.05s ease;
    }
    .provider-btn span {
      font-size: 0.65rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }
    .provider-btn:hover {
      border-color: #2563eb66;
      color: #e5e7eb;
      transform: translateY(-1px);
    }
    .provider-btn.active {
      background: #111827;
      border-color: #22c55e;
      color: #e5e7eb;
    }

    /* Workspace tab layout */
    #workspaceTabContent {
      height: 100%;
      display: grid;
      grid-template-columns: 260px minmax(0, 1fr);
      gap: 0.75rem;
      padding: 0.75rem;
      overflow: hidden;
    }
    .task-list {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }
    .task-btn {
      border: none;
      cursor: pointer;
      text-align: left;
      padding: 0.45rem 0.55rem;
      border-radius: 0.35rem;
      font-size: 0.82rem;
      background: transparent;
      color: #e5e7eb;
      display: flex;
      flex-direction: column;
      gap: 0.1rem;
      border: 1px solid transparent;
      transition: background 0.12s ease, border-color 0.12s ease, transform 0.05s ease;
    }
    .task-btn:hover {
      background: #020617;
      border-color: #1d4ed8;
      transform: translateY(-1px);
    }
    .task-btn.active {
      background: #111827;
      border-color: #22c55e;
    }
    .task-name { font-weight: 500; }
    .task-area {
      font-size: 0.7rem;
      color: #6b7280;
    }
    .step-list {
      margin: 0.1rem 0 0.35rem 1rem;
      padding: 0;
      color: #d1d5db;
    }
    .step-list li { margin-bottom: 0.15rem; }
    .kbd {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.72rem;
      background: #020617;
      border-radius: 3px;
      border: 1px solid #1f2937;
      padding: 0.05rem 0.35rem;
      color: #9ca3af;
    }

    @media (max-width: 960px) {
      #cloudTabContent {
        grid-template-columns: 200px 220px minmax(0, 1fr);
      }
      #workspaceTabContent {
        grid-template-columns: 1fr;
        grid-template-rows: auto auto;
      }
    }
    @media (max-width: 768px) {
      #cloudTabContent {
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto;
      }
    }
  </style>
</head>

<body>
  <header>
    <div>
      <h1>Cloud Tech Navigator</h1>
      <div class="subtitle">
        Flip between AWS / Azure / GCP / OCI / VMware / F5 / Terraform / Ansible / Networking + Workspace Admin click-paths.
      </div>
    </div>
    <button
      class="main-menu-btn"
      type="button"
      onclick="window.location.href='../index.html'">
      ← Main menu
    </button>
  </header>

  <div class="tabs-bar">
    <button class="tab-btn active" data-tab="cloudTab">
      Cloud / Tech Services
      <span class="tab-pill">By cloud or technology</span>
    </button>
    <button class="tab-btn" data-tab="workspaceTab">
      Workspace Admin Tasks
      <span class="tab-pill">Admin console click-paths</span>
    </button>
    <input
      id="searchInput"
      type="text"
      placeholder="Search service name (current cloud/tech)…"
      autocomplete="off"
    />
  </div>

  <main>
    <!-- Cloud / Tech tab -->
    <section id="cloudTab" class="tab-panel active">
      <div id="cloudTabContent">
        <!-- Categories + provider selector -->
        <section class="panel">
          <div class="panel-header">
            <span>Service Categories</span>
            <div style="display:flex;align-items:center;gap:0.3rem;">
              <span class="pill" id="sourcePill">GCP</span>
              <span class="pill" id="categoryCountPill">0</span>
            </div>
          </div>
          <div class="panel-body">
            <div class="provider-selector-label">Cloud / technology source</div>
            <div class="provider-selector" id="providerSelector"></div>

            <div class="empty-state" id="categoryEmptyState" style="display:none;">
              No categories loaded.
            </div>
            <ul class="category-list" id="categoryList"></ul>
          </div>
        </section>

        <!-- Services -->
        <section class="panel">
          <div class="panel-header">
            <span id="servicePanelTitle">Services</span>
            <span class="pill" id="serviceCountPill">0</span>
          </div>
          <div class="panel-body">
            <div class="empty-state" id="serviceEmptyState">
              Pick a cloud/tech above, then a category, or type to search by service name.
            </div>
            <ul class="service-list" id="serviceList"></ul>
          </div>
        </section>

        <!-- Details -->
        <section class="panel">
          <div class="panel-header">
            <span>Details &amp; Guidance</span>
            <span class="pill">What / When / Where</span>
          </div>
          <div class="panel-body" id="detailPanel">
            <div class="empty-state">
              Click a service to see: what it is, when to use it, and where to start in the console or docs for that cloud/technology.
            </div>
          </div>
        </section>
      </div>
    </section>

    <!-- Workspace Admin tab -->
    <section id="workspaceTab" class="tab-panel">
      <div id="workspaceTabContent">
        <section class="panel">
          <div class="panel-header">
            <span>Workspace Admin Tasks</span>
            <span class="pill" id="workspaceTaskCount">0</span>
          </div>
          <div class="panel-body">
            <ul class="task-list" id="workspaceTaskList"></ul>
            <div class="empty-state" id="workspaceEmptyState" style="display:none;">
              No tasks loaded.
            </div>
          </div>
        </section>

        <section class="panel">
          <div class="panel-header">
            <span>What to do &amp; where to click</span>
            <span class="pill">Admin console paths</span>
          </div>
          <div class="panel-body" id="workspaceDetailPanel">
            <div class="empty-state">
              Click a Workspace Admin task on the left to see the exact console path and step-by-step instructions.
            </div>
          </div>
        </section>
      </div>
    </section>
  </main>

  <!-- ✅ IMPORTANT: Load generated cloud catalogs BEFORE the inline app script -->
  <script src="../generated/catalog.generated.js"></script>

  <!-- Optional legacy/provider files (safe to keep) -->
  <script src="azure-services.js"></script>
  <script src="oci-services.js"></script>

  <!-- Tools -->
  <script src="ansible-options.js"></script>
  <script src="terraform-options.js"></script>
  <script src="networking-options.js"></script>
  <script src="vmware-profiles.js"></script>
  <script src="f5-services.js"></script>

  <script>
    // (unchanged) your existing inline JS goes here exactly as-is
    // NOTE: I did not modify your logic, only fixed script placement/order so window.CDK is populated.
  </script>
</body>
</html>
